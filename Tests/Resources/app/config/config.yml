imports:
    - { resource: security.yml }

parameters:
    coral.site_cache.class: Doctrine\Common\Cache\ArrayCache
    coral.connector.cache.class: Doctrine\Common\Cache\ArrayCache
    coral.connector.request.class: Coral\CoreBundle\Tests\Service\Request\RequestMockup

services:
    my_test_controller:
        class: Coral\SiteBundle\Tests\Controller\MyTestController
        tags: ['controller.service_arguments']
    coral.connect.coral:
        class: Coral\CoreBundle\Service\Connector\CoralConnector
        arguments: ["@coral.connector.request", "%kernel.root_dir%/fixtures/coral_connect", "account", "apisecretkey"]
        tags:
            -  { name: coral.connector.service, service: "coral" }

twig:
    debug:            "%kernel.debug%"
    strict_variables: "%kernel.debug%"
    paths:
        "%kernel.root_dir%/../fixtures/AcmeContent/content": coral
        "%kernel.root_dir%/templates": ~

coral_site:
    content_path: "%kernel.root_dir%/../fixtures/AcmeContent/content"
    config_path: "%kernel.root_dir%/../fixtures/AcmeContent/configuration"

framework:
    secret: test
    test: ~
    session:
        storage_id: session.storage.filesystem
    form:            true
    csrf_protection: true
    validation:
        enabled: true
        enable_annotations: true
    router:
        resource: "%kernel.root_dir%/config/routing.php"
    default_locale: "en"

monolog:
    handlers:
        main:
            type:  stream
            path:  "%kernel.logs_dir%/%kernel.environment%.log"
            level: debug

knp_markdown:
    parser:
        service: markdown.parser.flavored